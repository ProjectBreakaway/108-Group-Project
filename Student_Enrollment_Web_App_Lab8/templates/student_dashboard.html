{% extends "base.html" %}

{% block title %}Student Dashboard{% endblock %}

{% block content %}
  <section>
    <h2>Your Enrolled Classes</h2>
    {% if enrolled %}
      <ul>
        {% for enr in enrolled %}
          <li>
            {{ enr.course.name }} —
            Grade: {% if enr.grade is not none %}{{ enr.grade }}{% else %}N/A{% endif %}
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p>You’re not enrolled in anything yet.</p>
    {% endif %}
  </section>

  <section>
    <h2>All Available Classes</h2>
    <ul>
      {% for c in all_courses %}
      <li>
        {{ c.name }} ({{ c.enrollments|length }}/{{ c.capacity }})
        {% if c.id in enrolled_ids %}
          <a href="{{ url_for('student_unenroll', course_id=c.id) }}"
             class="btn unenroll-btn">
            Unenroll
          </a>
        {% else %}
          <a href="{{ url_for('student_enroll', course_id=c.id) }}"
             class="btn enroll-btn">
            Enroll
          </a>
        {% endif %}
      </li>
      {% endfor %}
    </ul>
  </section>
{% endblock %}
